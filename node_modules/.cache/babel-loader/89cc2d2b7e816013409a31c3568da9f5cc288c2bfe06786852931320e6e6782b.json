{"ast":null,"code":"import { shoeArr } from \"../../../Ex_Shoe/data\";\nlet initialState = {\n  shoeArr: shoeArr,\n  detail: shoeArr[0],\n  cart: []\n};\nexport let shoeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"VIEW_DETAIL\":\n      return {\n        ...state,\n        detail: action.payload\n      };\n    case \"ADD_TO_CART\":\n      {\n        // spread operator\n        // const newCart = [...this.state.cart, shoe]\n\n        const newCart = state.cart;\n        let shoe = action.payload;\n        // Kiểm tra trong cart đã tồn tại sản phẩm hay chưa\n        const index = newCart.findIndex(value => value.id === action.payload.id);\n        if (index !== -1) {\n          // sản phẩm đã có trong cart => chỉ thay đổi thuộc tính cartQuantity\n          newCart[index].cartQuantity += 1;\n        } else {\n          // sản phẩm chưa có trong cart => thêm vào cart\n          newCart.push({\n            ...shoe,\n            cartQuantity: 1\n          });\n        }\n\n        // console.log(\"newCart: \", newCart);\n\n        this.setState({\n          cart: newCart\n        });\n        return {\n          ...state,\n          newCart\n        };\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["shoeArr","initialState","detail","cart","shoeReducer","state","action","type","payload","newCart","shoe","index","findIndex","value","id","cartQuantity","push","setState"],"sources":["D:/Cybersoft/FE/React-Redux/src/Ex_Shoe_Redux/redux/reducer/shoe.js"],"sourcesContent":["import { shoeArr } from \"../../../Ex_Shoe/data\";\r\nlet initialState = {\r\n  shoeArr: shoeArr,\r\n  detail: shoeArr[0],\r\n  cart: [],\r\n};\r\n\r\nexport let shoeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"VIEW_DETAIL\":\r\n      return {\r\n        ...state,\r\n        detail: action.payload,\r\n      };\r\n    case \"ADD_TO_CART\": {\r\n      // spread operator\r\n      // const newCart = [...this.state.cart, shoe]\r\n\r\n      const newCart = state.cart;\r\n      let shoe = action.payload;\r\n      // Kiểm tra trong cart đã tồn tại sản phẩm hay chưa\r\n      const index = newCart.findIndex(\r\n        (value) => value.id === action.payload.id\r\n      );\r\n\r\n      if (index !== -1) {\r\n        // sản phẩm đã có trong cart => chỉ thay đổi thuộc tính cartQuantity\r\n        newCart[index].cartQuantity += 1;\r\n      } else {\r\n        // sản phẩm chưa có trong cart => thêm vào cart\r\n        newCart.push({ ...shoe, cartQuantity: 1 });\r\n      }\r\n\r\n      // console.log(\"newCart: \", newCart);\r\n\r\n      this.setState({\r\n        cart: newCart,\r\n      });\r\n      return { ...state, newCart };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,uBAAuB;AAC/C,IAAIC,YAAY,GAAG;EACjBD,OAAO,EAAEA,OAAO;EAChBE,MAAM,EAAEF,OAAO,CAAC,CAAC,CAAC;EAClBG,IAAI,EAAE;AACR,CAAC;AAED,OAAO,IAAIC,WAAW,GAAGA,CAACC,KAAK,GAAGJ,YAAY,EAAEK,MAAM,KAAK;EACzD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB,OAAO;QACL,GAAGF,KAAK;QACRH,MAAM,EAAEI,MAAM,CAACE;MACjB,CAAC;IACH,KAAK,aAAa;MAAE;QAClB;QACA;;QAEA,MAAMC,OAAO,GAAGJ,KAAK,CAACF,IAAI;QAC1B,IAAIO,IAAI,GAAGJ,MAAM,CAACE,OAAO;QACzB;QACA,MAAMG,KAAK,GAAGF,OAAO,CAACG,SAAS,CAC5BC,KAAK,IAAKA,KAAK,CAACC,EAAE,KAAKR,MAAM,CAACE,OAAO,CAACM,EACzC,CAAC;QAED,IAAIH,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB;UACAF,OAAO,CAACE,KAAK,CAAC,CAACI,YAAY,IAAI,CAAC;QAClC,CAAC,MAAM;UACL;UACAN,OAAO,CAACO,IAAI,CAAC;YAAE,GAAGN,IAAI;YAAEK,YAAY,EAAE;UAAE,CAAC,CAAC;QAC5C;;QAEA;;QAEA,IAAI,CAACE,QAAQ,CAAC;UACZd,IAAI,EAAEM;QACR,CAAC,CAAC;QACF,OAAO;UAAE,GAAGJ,KAAK;UAAEI;QAAQ,CAAC;MAC9B;IAEA;MACE,OAAOJ,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}