{"ast":null,"code":"var _jsxFileName = \"D:\\\\Cybersoft\\\\FE\\\\React-Redux\\\\src\\\\Ex_Shoe_Redux\\\\Ex_Shoe_Redux.js\";\nimport React, { Component } from \"react\";\nimport CartShoe from \"./CartShoe\";\nimport ListShoe from \"./ListShoe\";\nimport DetailShoe from \"./DetailShoe\";\nimport { shoeArr } from \"../Ex_Shoe/data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Ex_Shoe_Redux extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      shoeArr: shoeArr,\n      detail: shoeArr[0],\n      cart: []\n    };\n    this.handleViewDetail = shoe => {\n      this.setState({\n        detail: shoe\n      });\n    };\n    this.handleRemove = idShoe => {\n      // idShoe là id của item được click btn delete\n      let newCart = this.state.cart.filter(item => {\n        return item.id !== idShoe;\n      });\n      this.setState({\n        cart: newCart\n      });\n    };\n    this.handleCart = shoe => {\n      var _this$state;\n      // spread operator\n      // const newCart = [...this.state.cart, shoe]\n\n      const newCart = (_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state.cart;\n\n      // Kiểm tra trong cart đã tồn tại sản phẩm hay chưa\n      const index = newCart.findIndex(value => value.id === shoe.id);\n      if (index !== -1) {\n        // sản phẩm đã có trong cart => chỉ thay đổi thuộc tính cartQuantity\n        newCart[index].cartQuantity += 1;\n      } else {\n        // sản phẩm chưa có trong cart => thêm vào cart\n        newCart.push({\n          ...shoe,\n          cartQuantity: 1\n        });\n      }\n      console.log(\"newCart: \", newCart);\n      this.setState({\n        cart: newCart\n      });\n    };\n    // quantity: +1 | -1\n    this.handleCartQuantity = (shoeId, quantity) => {\n      console.log(\"shoeId: \", shoeId);\n      console.log(\"quantity: \", quantity);\n\n      // falsy: 0, '', undefined, NaN, false, null => false\n      // truthy: => true\n      // A || B\n      // 0 || 1 => 1\n      // 1 || 2 => 1\n      const newCart = [...this.state.cart];\n      const index = newCart.findIndex(value => value.id === shoeId);\n      if (index !== -1) {\n        newCart[index].cartQuantity = newCart[index].cartQuantity + quantity || 1;\n        // 0 || 1\n      }\n\n      this.setState({\n        cart: newCart\n      });\n    };\n  }\n  render() {\n    var _this$state2, _this$state3, _this$state4;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: /*#__PURE__*/_jsxDEV(CartShoe, {\n          handleRemove: this.handleRemove,\n          cart: this === null || this === void 0 ? void 0 : (_this$state2 = this.state) === null || _this$state2 === void 0 ? void 0 : _this$state2.cart,\n          handleCartQuantity: this.handleCartQuantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6\",\n        children: /*#__PURE__*/_jsxDEV(ListShoe, {\n          handleViewDetail: this.handleViewDetail,\n          list: (_this$state3 = this.state) === null || _this$state3 === void 0 ? void 0 : _this$state3.shoeArr,\n          handleCart: this.handleCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxDEV(DetailShoe, {\n          detail: (_this$state4 = this.state) === null || _this$state4 === void 0 ? void 0 : _this$state4.detail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","CartShoe","ListShoe","DetailShoe","shoeArr","jsxDEV","_jsxDEV","Ex_Shoe_Redux","constructor","args","state","detail","cart","handleViewDetail","shoe","setState","handleRemove","idShoe","newCart","filter","item","id","handleCart","_this$state","index","findIndex","value","cartQuantity","push","console","log","handleCartQuantity","shoeId","quantity","render","_this$state2","_this$state3","_this$state4","className","children","fileName","_jsxFileName","lineNumber","columnNumber","list"],"sources":["D:/Cybersoft/FE/React-Redux/src/Ex_Shoe_Redux/Ex_Shoe_Redux.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport CartShoe from \"./CartShoe\";\nimport ListShoe from \"./ListShoe\";\nimport DetailShoe from \"./DetailShoe\";\nimport { shoeArr } from \"../Ex_Shoe/data\";\n\nclass Ex_Shoe_Redux extends Component {\n  state = {\n    shoeArr: shoeArr,\n    detail: shoeArr[0],\n    cart: [],\n  };\n  handleViewDetail = (shoe) => {\n    this.setState({\n      detail: shoe,\n    });\n  };\n  handleRemove = (idShoe) => {\n    // idShoe là id của item được click btn delete\n    let newCart = this.state.cart.filter((item) => {\n      return item.id !== idShoe;\n    });\n    this.setState({ cart: newCart });\n  };\n\n  handleCart = (shoe) => {\n    // spread operator\n    // const newCart = [...this.state.cart, shoe]\n\n    const newCart = this.state?.cart;\n\n    // Kiểm tra trong cart đã tồn tại sản phẩm hay chưa\n    const index = newCart.findIndex((value) => value.id === shoe.id);\n\n    if (index !== -1) {\n      // sản phẩm đã có trong cart => chỉ thay đổi thuộc tính cartQuantity\n      newCart[index].cartQuantity += 1;\n    } else {\n      // sản phẩm chưa có trong cart => thêm vào cart\n      newCart.push({ ...shoe, cartQuantity: 1 });\n    }\n\n    console.log(\"newCart: \", newCart);\n\n    this.setState({\n      cart: newCart,\n    });\n  };\n\n  // quantity: +1 | -1\n  handleCartQuantity = (shoeId, quantity) => {\n    console.log(\"shoeId: \", shoeId);\n    console.log(\"quantity: \", quantity);\n\n    // falsy: 0, '', undefined, NaN, false, null => false\n    // truthy: => true\n    // A || B\n    // 0 || 1 => 1\n    // 1 || 2 => 1\n    const newCart = [...this.state.cart];\n\n    const index = newCart.findIndex((value) => value.id === shoeId);\n\n    if (index !== -1) {\n      newCart[index].cartQuantity = newCart[index].cartQuantity + quantity || 1;\n      // 0 || 1\n    }\n\n    this.setState({\n      cart: newCart,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <CartShoe\n            handleRemove={this.handleRemove}\n            cart={this?.state?.cart}\n            handleCartQuantity={this.handleCartQuantity}\n          />\n        </div>\n        <div className=\"col-6\">\n          <ListShoe\n            handleViewDetail={this.handleViewDetail}\n            list={this.state?.shoeArr}\n            handleCart={this.handleCart}\n          />\n        </div>\n        <div className=\"col-12\">\n          <DetailShoe detail={this.state?.detail} />\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}