{"ast":null,"code":"import { shoeArr } from \"../../../Ex_Shoe/data\";\nlet initialState = {\n  shoeArr: shoeArr,\n  detail: shoeArr[0],\n  cart: []\n};\nexport let shoeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"VIEW_DETAIL\":\n      return {\n        ...state,\n        detail: action.payload\n      };\n    case \"ADD_TO_CART\":\n      {\n        // spread operator\n        // const newCart = [...this.state.cart, shoe]\n\n        const newCart = state.cart;\n        let shoe = action.payload;\n        console.log(\"ðŸš€ ~ file: shoe.js:21 ~ shoeReducer ~ shoe:\", shoe);\n        // Kiá»ƒm tra trong cart Ä‘Ã£ tá»“n táº¡i sáº£n pháº©m hay chÆ°a\n        const index = newCart.findIndex(value => value.id === shoe.id);\n        console.log(\"ðŸš€ ~ file: shoe.js:24 ~ shoeReducer ~ index:\", index);\n        if (index !== -1) {\n          // sáº£n pháº©m Ä‘Ã£ cÃ³ trong cart => chá»‰ thay Ä‘á»•i thuá»™c tÃ­nh cartQuantity\n          newCart[index].cartQuantity += 1;\n        } else {\n          // sáº£n pháº©m chÆ°a cÃ³ trong cart => thÃªm vÃ o cart\n          newCart.push({\n            ...shoe,\n            cartQuantity: 1\n          });\n        }\n\n        // console.log(\"newCart: \", newCart);\n\n        state.cart = newCart;\n        return {\n          ...state\n        };\n      }\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["shoeArr","initialState","detail","cart","shoeReducer","state","action","type","payload","newCart","shoe","console","log","index","findIndex","value","id","cartQuantity","push"],"sources":["D:/Cybersoft/FE/React-Redux/src/Ex_Shoe_Redux/redux/reducer/shoe.js"],"sourcesContent":["import { shoeArr } from \"../../../Ex_Shoe/data\";\r\nlet initialState = {\r\n  shoeArr: shoeArr,\r\n  detail: shoeArr[0],\r\n  cart: [],\r\n};\r\n\r\nexport let shoeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"VIEW_DETAIL\":\r\n      return {\r\n        ...state,\r\n        detail: action.payload,\r\n      };\r\n    case \"ADD_TO_CART\": {\r\n      // spread operator\r\n      // const newCart = [...this.state.cart, shoe]\r\n\r\n      const newCart = state.cart;\r\n      let shoe = action.payload;\r\n      console.log(\"ðŸš€ ~ file: shoe.js:21 ~ shoeReducer ~ shoe:\", shoe);\r\n      // Kiá»ƒm tra trong cart Ä‘Ã£ tá»“n táº¡i sáº£n pháº©m hay chÆ°a\r\n      const index = newCart.findIndex((value) => value.id === shoe.id);\r\n      console.log(\"ðŸš€ ~ file: shoe.js:24 ~ shoeReducer ~ index:\", index);\r\n\r\n      if (index !== -1) {\r\n        // sáº£n pháº©m Ä‘Ã£ cÃ³ trong cart => chá»‰ thay Ä‘á»•i thuá»™c tÃ­nh cartQuantity\r\n        newCart[index].cartQuantity += 1;\r\n      } else {\r\n        // sáº£n pháº©m chÆ°a cÃ³ trong cart => thÃªm vÃ o cart\r\n        newCart.push({ ...shoe, cartQuantity: 1 });\r\n      }\r\n\r\n      // console.log(\"newCart: \", newCart);\r\n\r\n      state.cart = newCart;\r\n      return { ...state };\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,uBAAuB;AAC/C,IAAIC,YAAY,GAAG;EACjBD,OAAO,EAAEA,OAAO;EAChBE,MAAM,EAAEF,OAAO,CAAC,CAAC,CAAC;EAClBG,IAAI,EAAE;AACR,CAAC;AAED,OAAO,IAAIC,WAAW,GAAGA,CAACC,KAAK,GAAGJ,YAAY,EAAEK,MAAM,KAAK;EACzD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB,OAAO;QACL,GAAGF,KAAK;QACRH,MAAM,EAAEI,MAAM,CAACE;MACjB,CAAC;IACH,KAAK,aAAa;MAAE;QAClB;QACA;;QAEA,MAAMC,OAAO,GAAGJ,KAAK,CAACF,IAAI;QAC1B,IAAIO,IAAI,GAAGJ,MAAM,CAACE,OAAO;QACzBG,OAAO,CAACC,GAAG,CAAC,6CAA6C,EAAEF,IAAI,CAAC;QAChE;QACA,MAAMG,KAAK,GAAGJ,OAAO,CAACK,SAAS,CAAEC,KAAK,IAAKA,KAAK,CAACC,EAAE,KAAKN,IAAI,CAACM,EAAE,CAAC;QAChEL,OAAO,CAACC,GAAG,CAAC,8CAA8C,EAAEC,KAAK,CAAC;QAElE,IAAIA,KAAK,KAAK,CAAC,CAAC,EAAE;UAChB;UACAJ,OAAO,CAACI,KAAK,CAAC,CAACI,YAAY,IAAI,CAAC;QAClC,CAAC,MAAM;UACL;UACAR,OAAO,CAACS,IAAI,CAAC;YAAE,GAAGR,IAAI;YAAEO,YAAY,EAAE;UAAE,CAAC,CAAC;QAC5C;;QAEA;;QAEAZ,KAAK,CAACF,IAAI,GAAGM,OAAO;QACpB,OAAO;UAAE,GAAGJ;QAAM,CAAC;MACrB;IAEA;MACE,OAAOA,KAAK;EAChB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}