{"ast":null,"code":"import { chairList } from \"../../chairList\";\nimport { ChairConfirm, Confirm, InputSeat, Purchase } from \"../Constants/Constants\";\nlet initialState = {\n  seatsInput: 0,\n  ticketCart: [],\n  chairList: chairList,\n  nameCustomer: \"\"\n};\nexport const seatHandler = (state = initialState, action) => {\n  switch (action.type) {\n    case InputSeat:\n      {\n        const newchairList = [...state.chairList];\n        const newticketCart = [...state.ticketCart];\n        const seatsInput = state.seatsInput;\n        var chair = action.payload;\n        chair.dangChon = true;\n\n        // Check element on chairList\n        const index = newticketCart.findIndex(item => item.soGhe === chair.soGhe);\n        console.log(chair);\n        if (index == -1) {\n          newticketCart.push(chair);\n        }\n\n        // Add a click event listener to each element\n        const seatsElements = document.querySelectorAll(\".seats\");\n        seatsElements.forEach((element, index) => {\n          element.addEventListener(\"click\", event => {\n            // Change the background color of the clicked element\n            element.style.backgroundColor = \"green\";\n          });\n        });\n        console.log(chair.dangChon ? chair.dangChon.toString() : \"false\");\n\n        // Update state\n        state.chairList = newchairList;\n        state.ticketCart = newticketCart;\n        console.log(\"üöÄ ~ file: ReducerSeat.js:40 ~ seatHandler ~ newticketCart:\", newticketCart);\n        return {\n          ...state\n        };\n      }\n    case ChairConfirm:\n      {\n        const newticketCart = [...state.ticketCart];\n        const nameCustomer = state.nameCustomer;\n        const inputName = document.querySelector(\"#inputName\").value;\n        const chairNumber = document.querySelector(\"#chairsNumber\").value;\n\n        // Update state\n        state.ticketCart = [...newticketCart];\n        state.nameCustomer = inputName;\n        state.seatsInput = chairNumber;\n        return {\n          ...state\n        };\n      }\n    case Confirm:\n      {\n        const newticketCart = [...state.ticketCart];\n        const nameCustomer = state.nameCustomer;\n        const seatsInput = state.seatsInput;\n        let ticketNumber = \"\";\n        newticketCart.map(ticket => {\n          return ticketNumber = ticketNumber + \" \" + ticket.soGhe;\n        });\n        let tongTien = 0;\n        newticketCart.map(ticket => {\n          return tongTien += ticket.gia;\n        });\n        // DOM to Thong tin khach hang\n        document.querySelector(\".nameCustomer\").innerHTML = nameCustomer;\n        document.querySelector(\".numberSeats\").innerHTML = seatsInput;\n        document.querySelector(\".seatCode\").innerHTML = ticketNumber;\n        document.querySelector(\".tinhTien\").innerHTML = tongTien + \" VNƒê\";\n        return {\n          ...state\n        };\n      }\n    case Purchase:\n      {\n        alert(\"Thanh to√°n th√†nh c√¥ng\");\n      }\n    default:\n      {\n        return state;\n      }\n  }\n};","map":{"version":3,"names":["chairList","ChairConfirm","Confirm","InputSeat","Purchase","initialState","seatsInput","ticketCart","nameCustomer","seatHandler","state","action","type","newchairList","newticketCart","chair","payload","dangChon","index","findIndex","item","soGhe","console","log","push","seatsElements","document","querySelectorAll","forEach","element","addEventListener","event","style","backgroundColor","toString","inputName","querySelector","value","chairNumber","ticketNumber","map","ticket","tongTien","gia","innerHTML","alert"],"sources":["D:/Cybersoft/FE/React-Redux/src/Dat_ve_phim/redux/reducer/ReducerSeat.js"],"sourcesContent":["import { chairList } from \"../../chairList\";\r\nimport {\r\n  ChairConfirm,\r\n  Confirm,\r\n  InputSeat,\r\n  Purchase,\r\n} from \"../Constants/Constants\";\r\n\r\nlet initialState = {\r\n  seatsInput: 0,\r\n  ticketCart: [],\r\n  chairList: chairList,\r\n  nameCustomer: \"\",\r\n};\r\n\r\nexport const seatHandler = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case InputSeat: {\r\n      const newchairList = [...state.chairList];\r\n      const newticketCart = [...state.ticketCart];\r\n      const seatsInput = state.seatsInput;\r\n      var chair = action.payload;\r\n      chair.dangChon = true;\r\n\r\n      // Check element on chairList\r\n      const index = newticketCart.findIndex(\r\n        (item) => item.soGhe === chair.soGhe\r\n      );\r\n\r\n      console.log(chair);\r\n      if (index == -1) {\r\n        newticketCart.push(chair);\r\n      }\r\n\r\n      // Add a click event listener to each element\r\n      const seatsElements = document.querySelectorAll(\".seats\");\r\n      seatsElements.forEach((element, index) => {\r\n        element.addEventListener(\"click\", (event) => {\r\n          // Change the background color of the clicked element\r\n          element.style.backgroundColor = \"green\";\r\n        });\r\n      });\r\n      console.log(chair.dangChon ? chair.dangChon.toString() : \"false\");\r\n\r\n      // Update state\r\n      state.chairList = newchairList;\r\n      state.ticketCart = newticketCart;\r\n      console.log(\r\n        \"üöÄ ~ file: ReducerSeat.js:40 ~ seatHandler ~ newticketCart:\",\r\n        newticketCart\r\n      );\r\n      return { ...state };\r\n    }\r\n    case ChairConfirm: {\r\n      const newticketCart = [...state.ticketCart];\r\n      const nameCustomer = state.nameCustomer;\r\n      const inputName = document.querySelector(\"#inputName\").value;\r\n      const chairNumber = document.querySelector(\"#chairsNumber\").value;\r\n\r\n      // Update state\r\n      state.ticketCart = [...newticketCart];\r\n      state.nameCustomer = inputName;\r\n      state.seatsInput = chairNumber;\r\n      return { ...state };\r\n    }\r\n    case Confirm: {\r\n      const newticketCart = [...state.ticketCart];\r\n\r\n      const nameCustomer = state.nameCustomer;\r\n      const seatsInput = state.seatsInput;\r\n      let ticketNumber = \"\";\r\n      newticketCart.map((ticket) => {\r\n        return (ticketNumber = ticketNumber + \" \" + ticket.soGhe);\r\n      });\r\n      let tongTien = 0;\r\n      newticketCart.map((ticket) => {\r\n        return (tongTien += ticket.gia);\r\n      });\r\n      // DOM to Thong tin khach hang\r\n      document.querySelector(\".nameCustomer\").innerHTML = nameCustomer;\r\n      document.querySelector(\".numberSeats\").innerHTML = seatsInput;\r\n      document.querySelector(\".seatCode\").innerHTML = ticketNumber;\r\n      document.querySelector(\".tinhTien\").innerHTML = tongTien + \" VNƒê\";\r\n      return { ...state };\r\n    }\r\n    case Purchase: {\r\n      alert(\"Thanh to√°n th√†nh c√¥ng\");\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}